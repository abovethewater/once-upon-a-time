
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function (){
    
["top", "left", "bottom", "right"].map( function(location) {
$('#' + location + '_form').submit(function(ev){
ev.preventDefault();
 
$.ajax({
url: "/" + location,
data: $(this).serialize(),
type : 'PUT',
dataType: "json",
success: function(data) {
    setTextInLocation('#' + location, data.id, data.text);
}
});
});
});

function setTextInLocation(location, id, text) {
    $(location).html("<a href=/page/" + id + ">" + text + '</a>');
};

});
</script>
</head>

<table border="1">
<tr>
<td></td>
<td id="top"><form id="top_form" action=""><input type="hidden" value=<%= @id %> /><input type="text" name="text"></input><input type="submit"></input></form></td>
<td></td>
</tr>
<tr>
<td id="left"><form id="left_form" action=""><input type="hidden" value=<%= @id %> /><input type="text" name="text"></input><input type="submit"></input></form></td>
<td><%= @page_content.centre %></td>
<td id="right"><form id="right_form" action=""><input type="hidden" value=<%= @id %> /><input type="text" name="text"></input><input type="submit"></input></form></td>
</tr>
<tr>
<td></td>
<td id="bottom"><form id="bottom_form" action=""><input type="hidden" value=<%= @id %> /><input type="text" name="text"></input><input type="submit"></input></form></td>
<td></td>
</tr>
</table>